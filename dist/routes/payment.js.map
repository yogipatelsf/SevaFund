{"version":3,"sources":["../../server/routes/payment.js"],"names":["stripe","require","postStripeCharge","res","stripeErr","stripeRes","status","send","error","success","paymentApi","app","get","req","message","timestamp","Date","toISOString","post","charges","create","body","module","exports"],"mappings":"AAAA,MAAMA,SAASC,QAAQ,qBAAR,CAAf;;AAEA,MAAMC,mBAAmBC,OAAO,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AACxD,MAAID,SAAJ,EAAe;AACbD,QAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,OAAOJ,SAAT,EAArB;AACD,GAFD,MAEO;AACLD,QAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEE,SAASJ,SAAX,EAArB;AACD;AACF,CAND;;AAQA,MAAMK,aAAaC,OAAO;;AAExBA,MAAIC,GAAJ,CAAQ,GAAR,EAAa,CAACC,GAAD,EAAMV,GAAN,KAAc;AACzBA,QAAII,IAAJ,CAAS,EAAEO,SAAS,+BAAX,EAA4CC,WAAW,IAAIC,IAAJ,GAAWC,WAAX,EAAvD,EAAT;AACD,GAFD;;AAIAN,MAAIO,IAAJ,CAAS,GAAT,EAAc,CAACL,GAAD,EAAMV,GAAN,KAAc;AAC1BH,WAAOmB,OAAP,CAAeC,MAAf,CAAsBP,IAAIQ,IAA1B,EAAgCnB,iBAAiBC,GAAjB,CAAhC;AACD,GAFD;;AAIA,SAAOQ,GAAP;AACD,CAXD;;AAaAW,OAAOC,OAAP,GAAiBb,UAAjB","file":"payment.js","sourcesContent":["const stripe = require('../constants/stripe');\n\nconst postStripeCharge = res => (stripeErr, stripeRes) => {\n  if (stripeErr) {\n    res.status(500).send({ error: stripeErr });\n  } else {\n    res.status(200).send({ success: stripeRes });\n  }\n}\n\nconst paymentApi = app => {\n  \n  app.get('/', (req, res) => {\n    res.send({ message: 'Hello Stripe checkout server!', timestamp: new Date().toISOString() })\n  });\n\n  app.post('/', (req, res) => {\n    stripe.charges.create(req.body, postStripeCharge(res));\n  });\n\n  return app;\n};\n\nmodule.exports = paymentApi;"]}